# ?? ???? ???? ????? ?????? - ???????

## ? ?? ??????? ?????

### ?? ??????? (Doctor):
```
POST /api/doctor/logout
Authorization: Bearer {token}
```

### ?? ?????? (Patient):
```
POST /api/user/logout
Authorization: Bearer {token}
```

---

## ?? ?? ?? ????:

### 1?? ?? ??? Backend:
? ????? endpoint logout ??????? ?? `DoctorController.cs`
? ????? endpoint logout ?????? ?? `UserController.cs`
? ????? ??????? ??????????
? ????? ??????? ???????? (userId, userName)

### 2?? ?????????:
```json
{
  "success": true,
  "message": "?? ????? ?????? ?????",
  "messageEn": "Logged out successfully",
  "user": {
    "userId": 5,
    "userName": "Dr. Ahmed"
  }
}
```

---

## ?? ???? ????????? ?? React:

```jsx
// 1. ??? ????? ??? ?? Logout
const handleLogout = async () => {
  const token = localStorage.getItem('token');
  const role = localStorage.getItem('userRole'); // 'Doctor' or 'Patient'
  
  // ?????? ??? endpoint ???????
  const endpoint = role === 'Doctor' ? '/api/doctor/logout' : '/api/user/logout';
  
  // ????? ?????
  const response = await axios.post(
    `${API_URL}${endpoint}`,
    {},
    { headers: { 'Authorization': `Bearer ${token}` } }
  );
  
  if (response.data.success) {
    // ??? ????????
    localStorage.removeItem('token');
    localStorage.removeItem('userRole');
    
    // ???????? ????? Login
    navigate('/login');
  }
};
```

---

## ?? ??????? (Popup):

```jsx
<div className="modal">
  <h2>Log Out?</h2>
  <p>Are you sure you want to log out of your account?</p>
  <p>?? ??? ????? ?? ????? ?????? ?? ??????</p>
  
  <button onClick={onClose}>No, Cancel</button>
  <button onClick={handleLogout}>Yes, Confirm</button>
</div>
```

---

## ?? ??????? ??????? (Frontend):

1. ? **Backend ???? 100%**
2. ? **????? LogoutModal component**
3. ? **????? ?? Logout ?? ??? Sidebar**
4. ? **??? ??? API**
5. ? **?????? ??????**

---

## ?? ?????? ???? (Postman):

```bash
# Doctor Logout
POST https://localhost:7001/api/doctor/logout
Headers: Authorization: Bearer {token}

# Patient Logout  
POST https://localhost:7001/api/user/logout
Headers: Authorization: Bearer {token}
```

---

## ? ??????? ????????:

? ??? ????? ??? Logout ? ???? modal
? ??? ??????? ? ??? ??????? ??? API
? ??? ??? token ?? localStorage
? ???????? ????? Login
? ?? ???? ?????? ??????? ???????

---

?? **???????? ???????**: ???? ??? `LOGOUT_SYSTEM_IMPLEMENTATION.md`
